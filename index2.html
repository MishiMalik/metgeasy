<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main>
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">

                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Run Settings
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="card m-3">
                                        <div class="d-flex justify-content-between align-items-center p-3">
                                            <div>
                                                <h5>Run Conditions</h5>
                                                <p>Only Run this step if run conditions are met</p>
                                            </div>
                                            <div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="flexSwitchCheckDefault" />
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="condition-on d-none p-3">
                                            <p class="mb-0 pb-0 condition-text-1">
                                                NO Run Conditions are Added
                                            </p>
                                            <p class="mb-0 pb-0 condition-text-2 d-none"></p>
                                            <br>
                                            <button class="btn btn-primary edit-condition-btn">Edit Condition</button>
                                        </div>
                                    </div>

                                    <!-- Add Condition Card -->
                                    <div class="card add-condition d-none m-3 p-3">
                                        <p class="mb-0 pb-0 no-condition-added">
                                            NO Run Conditions are Added
                                        </p>
                                        <!-- Condition 1 -->
                                        <div class="condition-1 d-none mb-3">
                                            <div class="d-flex align-items-center gap-2">
                                                <p class="mb-0">Run If</p>
                                                <div class="flex-grow-1">
                                                    <select class="form-select form-select-lg condition-1-field">
                                                        <option value="Company" selected>Company</option>
                                                        <option value="Website URL">Website URL</option>
                                                        <option value="Similar Companies">Similar Companies</option>
                                                        <option value="Column D">Column D</option>
                                                        <option value="Column A">Column A</option>
                                                    </select>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <select class="form-select form-select-lg condition-1-operator">
                                                        <option value="Contains" selected>Contains</option>
                                                        <option value="Does Not Contain">Does Not Contain</option>
                                                        <option value="Is">Is</option>
                                                        <option value="Is not">Is not</option>
                                                        <option value="is empty">is empty</option>
                                                        <option value="is not empty">is not empty</option>
                                                    </select>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <input type="text" class="form-control condition-1-value"
                                                        placeholder="Enter value" />
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Condition 2 -->
                                        <div class="condition-2 d-none mb-3">
                                            <div class="d-flex align-items-center gap-2">
                                                <div class="flex-grow-1">
                                                    <select class="form-select form-select-lg condition-2-logic">
                                                        <option selected>And</option>
                                                        <option value="Or">Or</option>
                                                    </select>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <select class="form-select form-select-lg condition-2-field">
                                                        <option value="company" selected>Company</option>
                                                        <option value="Website URL">Website URL</option>
                                                        <option value="Similar Companies">Similar Companies</option>
                                                        <option value="Column D">Column D</option>
                                                        <option value="Column A">Column A</option>
                                                    </select>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <select class="form-select form-select-lg condition-2-operator">
                                                        <option value="Contains" selected>Contains</option>
                                                        <option value="Does Not Contain">Does Not Contain</option>
                                                        <option value="Is">Is</option>
                                                        <option value="Is not">Is not</option>
                                                        <option value="is empty">is empty</option>
                                                        <option value="is not empty">is not empty</option>
                                                    </select>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <input type="text" class="form-control condition-2-value"
                                                        placeholder="Enter value" />
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Buttons -->
                                        <button class="btn btn-success add-condition-btn mb-2">Add Condition</button>
                                        <hr>
                                        <button class="btn btn-danger remove-all-btn">Remove All</button>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>



    </main>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
   
        <script src="https://code.jquery.com/jquery-3.7.1.slim.js"
        integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
    <!-- jQuery Script -->
    <script>
        $(document).ready(function () {
            let clickCount = 0;
        
            // Function to update condition texts dynamically
            function updateConditionText() {
                let conditionText = '';
        
                // Get values for condition-1
                let condition1Field = $('.condition-1 select:eq(0)').val() || 'Any Field'; // Default text if empty
                let condition1Operator = $('.condition-1 select:eq(1)').val() || 'Any Operator'; // Default text if empty
                let condition1Value = $('.condition-1 input').val() || 'Any Value'; // Default text if empty
        
                // Generate text for condition-1
                if (clickCount === 1) {
                    conditionText = `Run if ${condition1Field} ${condition1Operator} ${condition1Value}`;
                }
        
                // Get values for condition-2
                let condition2Logic = $('.condition-2 select:eq(0)').val() || 'AND'; // Default text if empty
                let condition2Field = $('.condition-2 select:eq(1)').val() || 'Any Field'; // Default text if empty
                let condition2Operator = $('.condition-2 select:eq(2)').val() || 'Any Operator'; // Default text if empty
                let condition2Value = $('.condition-2 input').val() || 'Any Value'; // Default text if empty
        
                // Generate text for condition-2
                if (clickCount === 2) {
                    conditionText = `${condition2Logic} ${condition2Field} ${condition2Operator} ${condition2Value}`;
                }
        
                // Update the text for the appropriate condition
                $('.condition-text-1').text(clickCount === 1 ? conditionText : 'NO Run Conditions are Added');
                $('.condition-text-2').text(clickCount === 2 ? conditionText : '').toggleClass('d-none', clickCount !== 2);
            }
        
            // Toggle .condition-on based on the switch
            $('#flexSwitchCheckDefault').on('change', function () {
                $('.condition-on').toggleClass('d-none', !$(this).is(':checked'));
            });
        
            // Show .add-condition when "Edit Condition" is clicked
            $('.edit-condition-btn').on('click', function () {
                $('.add-condition').removeClass('d-none');
                updateConditionText(); // Update text in case conditions were previously filled
            });
        
            // Add Condition functionality
            $('.add-condition-btn').on('click', function () {
                clickCount++;
        
                // Hide the "NO Run Conditions are Added" message
                $('.no-condition-added').addClass('d-none');
        
                if (clickCount === 1) {
                    $('.condition-1').removeClass('d-none');
                } else if (clickCount === 2) {
                    $('.condition-2').removeClass('d-none');
                }
        
                // Update the text to reflect the newly added conditions
                updateConditionText();
            });
        
            // Remove All functionality
            $('.remove-all-btn').on('click', function () {
                $('.condition-1, .condition-2').addClass('d-none'); // Hide both conditions
                $('.no-condition-added').removeClass('d-none'); // Show the message again
                $('.add-condition').addClass('d-none'); // Hide add-condition card
                clickCount = 0; // Reset the counter
                
                // Reset text after removing all conditions
                $('.condition-text-1').text('NO Run Conditions are Added');
                $('.condition-text-2').addClass('d-none').text(''); // Reset the text
            });
        
            // Listen for changes in selects and inputs, update text dynamically
            $('.condition-1 select, .condition-1 input, .condition-2 select, .condition-2 input').on('change keyup', function () {
                updateConditionText(); // Update the text on any change
            });
        });
        </script>
        
        
        
        
        
</body>

</html>